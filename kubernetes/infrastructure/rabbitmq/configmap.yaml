apiVersion: v1
kind: ConfigMap
metadata:
  name: rabbitmq-config
  namespace: infrastructure
  labels:
    app: rabbitmq
data:
  rabbitmq.conf: |
    # Default user configuration
    default_user = guest
    default_pass = guest

    # Logging
    log.console = true
    log.console.level = info

    # Disable deprecated management metrics collection
    # This feature is deprecated in RabbitMQ 3.13+ and will be removed
    deprecated_features.permit.management_metrics_collection = false
